# Domera - –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞: 18 —Ñ–µ–≤—Ä–∞–ª—è 2026
–°—Ç–∞—Ç—É—Å: üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–º–æ–¥—É–ª–∏, shared, firebase)
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (ARCHITECTURE.md)
- [x] –°–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (DEVELOPMENT.md)
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–∏–ø—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã (`shared/types`)
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (`shared/constants`)
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã Firestore –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è email
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–º–∞
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π —Å—á—ë—Ç—á–∏–∫–∞
- [x] –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º

### Firebase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase (`firebase/config.ts`)
- [x] Auth —Å–µ—Ä–≤–∏—Å (`firebase/services/authService.ts`)
- [x] Firestore —Å–µ—Ä–≤–∏—Å (`firebase/services/firestoreService.ts`)
- [x] Storage —Å–µ—Ä–≤–∏—Å (`firebase/services/storageService.ts`)
- [x] –§–∞–π–ª `.env.example`

### –ú–æ–¥—É–ª–∏ - –°–µ—Ä–≤–∏—Å—ã
- [x] Auth –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å
- [x] Company –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å
- [x] Buildings –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å
- [x] Apartments –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å
- [x] Meters –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å
- [x] Invoices –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å
- [x] Invitations –º–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å

### –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö—É–∫–∏
- [x] –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (`shared/lib/utils.ts`)
- [x] useAuth hook
- [x] useHasCompanyAccess hook
- [x] useIsResidentOfApartment hook
- [x] useRequireAuth hook
- [x] useRequireRole hook

### Security
- [x] Firestore Security Rules
- [x] Storage Security Rules
- [x] Next.js Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [x] Multi-tenant –∏–∑–æ–ª—è—Ü–∏—è –≤ rules

## üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
- [ ] Button –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] Form –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] Input –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Header, Sidebar, Footer)
- [ ] Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] Table –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] Alert/Notification –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ (`app/(public)/login`)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`app/(public)/register`)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è (`app/(public)/reset-password`)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è (`app/(public)/accept-invitation`)
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (`app/dashboard`)

### Auth Flow
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–Ω–∞
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- [ ] Auth –∫–æ–Ω—Ç–µ–∫—Å—Ç/–ø—Ä–æ–≤–∞–π–¥–µ—Ä

## ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Buildings
- [ ] BuildingsList
- [ ] BuildingForm
- [ ] BuildingCard
- [ ] BuildingDetails

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Apartments
- [ ] ApartmentsList
- [ ] ApartmentForm
- [ ] ApartmentCard
- [ ] ResidentAssignment

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Meters
- [ ] MeterReadingForm
- [ ] MeterReadingsList
- [ ] MeterReadingHistory

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Invoices
- [ ] InvoicesList
- [ ] InvoiceDetails
- [ ] InvoicePDFUpload
- [ ] PaymentStatusBadge

### –°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è ManagementCompany
- [ ] `/dashboard/buildings` - –°–ø–∏—Å–æ–∫ –¥–æ–º–æ–≤
- [ ] `/dashboard/apartments` - –°–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä
- [ ] `/dashboard/residents` - –°–ø–∏—Å–æ–∫ –∂–∏–ª—å—Ü–æ–≤ –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [ ] `/dashboard/meter-readings` - –ü–æ–∫–∞–∑–∞–Ω–∏—è –≤—Å–µ—Ö –∫–≤–∞—Ä—Ç–∏—Ä

### –°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è Resident
- [ ] `/dashboard/profile` - –ü—Ä–æ—Ñ–∏–ª—å –∂–∏–ª—å—Ü–∞
- [ ] `/dashboard/meter-readings` - –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π
- [ ] `/dashboard/invoices` - –ê—Ä—Ö–∏–≤ —Å—á–µ—Ç–æ–≤
- [ ] `/dashboard/invoices/:id` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] Email –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (Cloud Function)
- [ ] Email –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- [ ] PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Unit —Ç–µ—Å—Ç—ã (Jest)
- [ ] Integration —Ç–µ—Å—Ç—ã
- [ ] E2E —Ç–µ—Å—Ç—ã (Cypress)
- [ ] Security —Ç–µ—Å—Ç—ã

### Deployment
- [ ] CI/CD Pipeline
- [ ] Deployment –Ω–∞ Firebase Hosting
- [ ] Environment config –¥–ª—è prod
- [ ] Analytics –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Input, Form)
2. –°–æ–∑–¥–∞—Ç—å Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Dashboard –¥–ª—è ManagementCompany
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Dashboard –¥–ª—è Resident
6. –î–æ–±–∞–≤–∏—Ç—å Cloud Functions –¥–ª—è email
7. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD
8. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫ production deployment

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

```
companies/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ name: string
  ‚îî‚îÄ‚îÄ createdAt: timestamp

users/
  ‚îú‚îÄ‚îÄ uid: string
  ‚îú‚îÄ‚îÄ email: string
  ‚îú‚îÄ‚îÄ role: enum
  ‚îú‚îÄ‚îÄ companyId: string
  ‚îú‚îÄ‚îÄ apartmentId?: string
  ‚îî‚îÄ‚îÄ createdAt: timestamp

buildings/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ companyId: string
  ‚îú‚îÄ‚îÄ name: string
  ‚îî‚îÄ‚îÄ address: string

apartments/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ buildingId: string
  ‚îú‚îÄ‚îÄ companyId: string
  ‚îú‚îÄ‚îÄ number: string
  ‚îî‚îÄ‚îÄ residentId?: string

meters/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ apartmentId: string
  ‚îú‚îÄ‚îÄ type: enum
  ‚îî‚îÄ‚îÄ serialNumber: string

meter_readings/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ companyId: string
  ‚îú‚îÄ‚îÄ buildingId: string
  ‚îú‚îÄ‚îÄ apartmentId: string
  ‚îú‚îÄ‚îÄ meterId: string
  ‚îú‚îÄ‚îÄ previousValue: number
  ‚îú‚îÄ‚îÄ currentValue: number
  ‚îú‚îÄ‚îÄ consumption: number
  ‚îú‚îÄ‚îÄ month: number
  ‚îú‚îÄ‚îÄ year: number
  ‚îî‚îÄ‚îÄ submittedAt: timestamp

invoices/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ companyId: string
  ‚îú‚îÄ‚îÄ apartmentId: string
  ‚îú‚îÄ‚îÄ month: number
  ‚îú‚îÄ‚îÄ year: number
  ‚îú‚îÄ‚îÄ amount: number
  ‚îú‚îÄ‚îÄ status: enum
  ‚îú‚îÄ‚îÄ pdfUrl: string
  ‚îî‚îÄ‚îÄ createdAt: timestamp

invitations/
  ‚îú‚îÄ‚îÄ id: string
  ‚îú‚îÄ‚îÄ companyId: string
  ‚îú‚îÄ‚îÄ apartmentId: string
  ‚îú‚îÄ‚îÄ email: string
  ‚îú‚îÄ‚îÄ status: enum
  ‚îú‚îÄ‚îÄ token: string
  ‚îú‚îÄ‚îÄ createdAt: timestamp
  ‚îî‚îÄ‚îÄ expiresAt?: timestamp
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–µ–π—á–∞—Å:
- Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Service layer –¥–ª—è Firestore –æ–ø–µ—Ä–∞—Ü–∏–π
- Auth —Å–µ—Ä–≤–∏—Å
- Storage —Å–µ—Ä–≤–∏—Å
- –í—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- Custom React —Ö—É–∫–∏
- –£—Ç–∏–ª–∏—Ç—ã
- Security Rules

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
import { useAuth } from '@/shared/hooks/useAuth';
import { getBuildingsByCompany } from '@/modules/buildings/services/buildingsService';
import { validateBuildingForm } from '@/shared/validation';

export function MyComponent() {
  const { user } = useAuth();
  
  if (!user) return null;
  
  const buildings = await getBuildingsByCompany(user.companyId);
  const validation = validateBuildingForm(name, address);
  
  // ...
}
```

## üìù –ó–∞–º–µ—Ç–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- –í—Å–µ –º–æ–¥—É–ª–∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
- Security Rules —Å–æ–±–ª—é–¥–∞—é—Ç multi-tenant –∏–∑–æ–ª—è—Ü–∏—é
- –¢–∏–ø–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ strict mode TypeScript
- –ö–æ–¥–∏—Ä—É–π—Ç–µ —Å–æ–≥–ª–∞—Å–Ω–æ convention guidelines
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Security Rules –ø–µ—Ä–µ–¥ deploy
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ Firestore indexes –ø–µ—Ä–µ–¥ production

## üîó –í–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [ARCHITECTURE.md](./ARCHITECTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- [DEVELOPMENT.md](./DEVELOPMENT.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- [.env.example](./.env.example) - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
